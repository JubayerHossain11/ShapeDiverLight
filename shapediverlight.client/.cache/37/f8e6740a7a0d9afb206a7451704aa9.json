{"id":"he94","dependencies":[{"name":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.rendering-engine.light-engine\\dist\\implementation\\LightScene.js.map","includedInParent":true,"mtime":1706476151435},{"name":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.rendering-engine.light-engine\\src\\implementation\\LightScene.ts","includedInParent":true,"mtime":1706476151933},{"name":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\package.json","includedInParent":true,"mtime":1706476652643},{"name":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.rendering-engine.light-engine\\package.json","includedInParent":true,"mtime":1706476150778},{"name":"@shapediver/viewer.shared.node-tree","loc":{"line":4,"column":42,"index":151},"parent":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.rendering-engine.light-engine\\dist\\implementation\\LightScene.js","resolved":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.shared.node-tree\\dist\\index.js"},{"name":"./types/AmbientLight","loc":{"line":5,"column":31,"index":223},"parent":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.rendering-engine.light-engine\\dist\\implementation\\LightScene.js","resolved":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.rendering-engine.light-engine\\dist\\implementation\\types\\AmbientLight.js"},{"name":"./types/DirectionalLight","loc":{"line":6,"column":35,"index":284},"parent":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.rendering-engine.light-engine\\dist\\implementation\\LightScene.js","resolved":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.rendering-engine.light-engine\\dist\\implementation\\types\\DirectionalLight.js"},{"name":"./types/HemisphereLight","loc":{"line":7,"column":34,"index":348},"parent":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.rendering-engine.light-engine\\dist\\implementation\\LightScene.js","resolved":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.rendering-engine.light-engine\\dist\\implementation\\types\\HemisphereLight.js"},{"name":"./types/PointLight","loc":{"line":8,"column":29,"index":406},"parent":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.rendering-engine.light-engine\\dist\\implementation\\LightScene.js","resolved":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.rendering-engine.light-engine\\dist\\implementation\\types\\PointLight.js"},{"name":"./types/SpotLight","loc":{"line":9,"column":28,"index":458},"parent":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.rendering-engine.light-engine\\dist\\implementation\\LightScene.js","resolved":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.rendering-engine.light-engine\\dist\\implementation\\types\\SpotLight.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.LightScene=void 0;const e=require(\"@shapediver/viewer.shared.node-tree\"),t=require(\"./types/AmbientLight\"),i=require(\"./types/DirectionalLight\"),h=require(\"./types/HemisphereLight\"),n=require(\"./types/PointLight\"),s=require(\"./types/SpotLight\");class r{constructor(t,i){this._renderingEngine=t,this._lights={},this._id=i.id,this._name=i.name,this._node=new e.TreeNode(i.name||i.id)}get id(){return this._id}get lights(){return this._lights}get name(){return this._name}set name(e){this._name=e}get node(){return this._node}get update(){return this._update}set update(e){this._update=e}addAmbientLight(e){const i=new t.AmbientLight(e);return this.addLight(i),i}addDirectionalLight(e){const t=new i.DirectionalLight(e);return this.addLight(t),t}addHemisphereLight(e){const t=new h.HemisphereLight(e);return this.addLight(t),t}addLight(t){const i=new e.TreeNode(t.id);t.parentNode=i,i.data.push(t),this._node.addChild(i),this._lights[t.id]=t,this._node.updateVersion(),this._update&&this._update()}addPointLight(e){const t=new n.PointLight(e);return this.addLight(t),t}addSpotLight(e){const t=new s.SpotLight(e);return this.addLight(t),t}removeLight(e){if(!this._lights[e])return!1;for(let t=0;t<this._node.children.length;t++){const i=this._node.children[t];if(i&&i.name===e){this._node.removeChild(i);break}}return delete this._lights[e],this._node.updateVersion(),this._update&&this._update(),!0}}exports.LightScene=r;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":94}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":100}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":102}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":1,"column":110}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":149}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":151}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":9,"column":0},"generated":{"line":1,"column":159}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":183}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":185}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":10,"column":0},"generated":{"line":1,"column":193}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":221}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":223}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":11,"column":0},"generated":{"line":1,"column":231}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":258}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":260}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":12,"column":0},"generated":{"line":1,"column":268}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":290}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":292}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":13,"column":0},"generated":{"line":1,"column":300}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":321}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":15,"column":13},"generated":{"line":1,"column":327}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":29,"column":4},"generated":{"line":1,"column":329}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":29,"column":33},"generated":{"line":1,"column":341}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":29,"column":69},"generated":{"line":1,"column":343}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":29,"column":33},"generated":{"line":1,"column":346}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":29,"column":33},"generated":{"line":1,"column":351}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":29,"column":33},"generated":{"line":1,"column":368}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":19,"column":21},"generated":{"line":1,"column":370}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":19,"column":21},"generated":{"line":1,"column":375}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":19,"column":59},"generated":{"line":1,"column":383}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":1,"column":386}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":30,"column":13},"generated":{"line":1,"column":391}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":30,"column":19},"generated":{"line":1,"column":395}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":30,"column":30},"generated":{"line":1,"column":397}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":31,"column":8},"generated":{"line":1,"column":400}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":31,"column":13},"generated":{"line":1,"column":405}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":31,"column":21},"generated":{"line":1,"column":411}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":31,"column":32},"generated":{"line":1,"column":413}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":418}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":32,"column":13},"generated":{"line":1,"column":423}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":32,"column":21},"generated":{"line":1,"column":429}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":32,"column":25},"generated":{"line":1,"column":433}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":32,"column":25},"generated":{"line":1,"column":435}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":32,"column":34},"generated":{"line":1,"column":444}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":32,"column":45},"generated":{"line":1,"column":446}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":32,"column":53},"generated":{"line":1,"column":452}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":32,"column":64},"generated":{"line":1,"column":454}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":39,"column":4},"generated":{"line":1,"column":458}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":467}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":40,"column":15},"generated":{"line":1,"column":474}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":40,"column":20},"generated":{"line":1,"column":479}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":43,"column":4},"generated":{"line":1,"column":483}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":44,"column":8},"generated":{"line":1,"column":496}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":44,"column":50},"generated":{"line":1,"column":503}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":44,"column":55},"generated":{"line":1,"column":508}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":47,"column":4},"generated":{"line":1,"column":516}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":48,"column":8},"generated":{"line":1,"column":527}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":48,"column":15},"generated":{"line":1,"column":534}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":48,"column":20},"generated":{"line":1,"column":539}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":51,"column":4},"generated":{"line":1,"column":545}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":51,"column":20},"generated":{"line":1,"column":554}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":52,"column":8},"generated":{"line":1,"column":557}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":52,"column":13},"generated":{"line":1,"column":562}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":52,"column":21},"generated":{"line":1,"column":568}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":55,"column":4},"generated":{"line":1,"column":570}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":56,"column":8},"generated":{"line":1,"column":581}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":56,"column":15},"generated":{"line":1,"column":588}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":56,"column":20},"generated":{"line":1,"column":593}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":59,"column":4},"generated":{"line":1,"column":599}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":60,"column":8},"generated":{"line":1,"column":612}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":60,"column":15},"generated":{"line":1,"column":619}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":60,"column":20},"generated":{"line":1,"column":624}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":63,"column":4},"generated":{"line":1,"column":632}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":63,"column":22},"generated":{"line":1,"column":643}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":64,"column":8},"generated":{"line":1,"column":646}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":64,"column":13},"generated":{"line":1,"column":651}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":64,"column":23},"generated":{"line":1,"column":659}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":71,"column":11},"generated":{"line":1,"column":661}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":71,"column":27},"generated":{"line":1,"column":677}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":72,"column":8},"generated":{"line":1,"column":680}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":72,"column":14},"generated":{"line":1,"column":686}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":72,"column":22},"generated":{"line":1,"column":688}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":72,"column":26},"generated":{"line":1,"column":692}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":72,"column":26},"generated":{"line":1,"column":694}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":72,"column":39},"generated":{"line":1,"column":707}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":74,"column":8},"generated":{"line":1,"column":710}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":73,"column":8},"generated":{"line":1,"column":717}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":73,"column":13},"generated":{"line":1,"column":722}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":73,"column":22},"generated":{"line":1,"column":731}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":74,"column":15},"generated":{"line":1,"column":734}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":77,"column":11},"generated":{"line":1,"column":736}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":77,"column":31},"generated":{"line":1,"column":756}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":78,"column":8},"generated":{"line":1,"column":759}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":78,"column":14},"generated":{"line":1,"column":765}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":78,"column":22},"generated":{"line":1,"column":767}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":78,"column":26},"generated":{"line":1,"column":771}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":78,"column":26},"generated":{"line":1,"column":773}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":78,"column":43},"generated":{"line":1,"column":790}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":80,"column":8},"generated":{"line":1,"column":793}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":79,"column":8},"generated":{"line":1,"column":800}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":79,"column":13},"generated":{"line":1,"column":805}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":79,"column":22},"generated":{"line":1,"column":814}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":80,"column":15},"generated":{"line":1,"column":817}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":83,"column":11},"generated":{"line":1,"column":819}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":83,"column":30},"generated":{"line":1,"column":838}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":84,"column":8},"generated":{"line":1,"column":841}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":84,"column":14},"generated":{"line":1,"column":847}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":84,"column":22},"generated":{"line":1,"column":849}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":84,"column":26},"generated":{"line":1,"column":853}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":84,"column":26},"generated":{"line":1,"column":855}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":84,"column":42},"generated":{"line":1,"column":871}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":86,"column":8},"generated":{"line":1,"column":874}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":85,"column":8},"generated":{"line":1,"column":881}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":85,"column":13},"generated":{"line":1,"column":886}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":85,"column":22},"generated":{"line":1,"column":895}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":86,"column":15},"generated":{"line":1,"column":898}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":89,"column":11},"generated":{"line":1,"column":900}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":89,"column":20},"generated":{"line":1,"column":909}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":90,"column":8},"generated":{"line":1,"column":912}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":90,"column":14},"generated":{"line":1,"column":918}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":90,"column":21},"generated":{"line":1,"column":920}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":90,"column":25},"generated":{"line":1,"column":924}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":90,"column":25},"generated":{"line":1,"column":926}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":90,"column":34},"generated":{"line":1,"column":935}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":90,"column":40},"generated":{"line":1,"column":937}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":91,"column":8},"generated":{"line":1,"column":941}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":91,"column":14},"generated":{"line":1,"column":943}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":91,"column":27},"generated":{"line":1,"column":954}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":92,"column":8},"generated":{"line":1,"column":956}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":92,"column":13},"generated":{"line":1,"column":958}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":92,"column":18},"generated":{"line":1,"column":963}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":92,"column":23},"generated":{"line":1,"column":968}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":93,"column":8},"generated":{"line":1,"column":971}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":93,"column":13},"generated":{"line":1,"column":976}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":93,"column":19},"generated":{"line":1,"column":982}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":93,"column":28},"generated":{"line":1,"column":991}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":94,"column":8},"generated":{"line":1,"column":994}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":94,"column":13},"generated":{"line":1,"column":999}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":94,"column":21},"generated":{"line":1,"column":1007}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":94,"column":27},"generated":{"line":1,"column":1009}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":94,"column":33},"generated":{"line":1,"column":1013}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":96,"column":8},"generated":{"line":1,"column":1015}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":96,"column":13},"generated":{"line":1,"column":1020}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":96,"column":19},"generated":{"line":1,"column":1026}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":97,"column":11},"generated":{"line":1,"column":1042}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":97,"column":16},"generated":{"line":1,"column":1047}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":97,"column":25},"generated":{"line":1,"column":1056}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":97,"column":30},"generated":{"line":1,"column":1061}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":100,"column":11},"generated":{"line":1,"column":1071}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":100,"column":25},"generated":{"line":1,"column":1085}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":101,"column":8},"generated":{"line":1,"column":1088}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":101,"column":14},"generated":{"line":1,"column":1094}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":101,"column":22},"generated":{"line":1,"column":1096}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":101,"column":26},"generated":{"line":1,"column":1100}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":101,"column":26},"generated":{"line":1,"column":1102}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":101,"column":37},"generated":{"line":1,"column":1113}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":103,"column":8},"generated":{"line":1,"column":1116}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":102,"column":8},"generated":{"line":1,"column":1123}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":102,"column":13},"generated":{"line":1,"column":1128}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":102,"column":22},"generated":{"line":1,"column":1137}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":103,"column":15},"generated":{"line":1,"column":1140}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":106,"column":11},"generated":{"line":1,"column":1142}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":106,"column":24},"generated":{"line":1,"column":1155}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":107,"column":8},"generated":{"line":1,"column":1158}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":107,"column":14},"generated":{"line":1,"column":1164}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":107,"column":22},"generated":{"line":1,"column":1166}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":107,"column":26},"generated":{"line":1,"column":1170}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":107,"column":26},"generated":{"line":1,"column":1172}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":107,"column":36},"generated":{"line":1,"column":1182}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":109,"column":8},"generated":{"line":1,"column":1185}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":108,"column":8},"generated":{"line":1,"column":1192}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":108,"column":13},"generated":{"line":1,"column":1197}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":108,"column":22},"generated":{"line":1,"column":1206}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":109,"column":15},"generated":{"line":1,"column":1209}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":112,"column":11},"generated":{"line":1,"column":1211}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":112,"column":23},"generated":{"line":1,"column":1223}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":113,"column":8},"generated":{"line":1,"column":1226}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":113,"column":13},"generated":{"line":1,"column":1230}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":113,"column":18},"generated":{"line":1,"column":1235}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":113,"column":26},"generated":{"line":1,"column":1243}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":113,"column":31},"generated":{"line":1,"column":1246}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":113,"column":38},"generated":{"line":1,"column":1253}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":115,"column":8},"generated":{"line":1,"column":1255}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":115,"column":12},"generated":{"line":1,"column":1259}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":115,"column":16},"generated":{"line":1,"column":1263}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":115,"column":20},"generated":{"line":1,"column":1265}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":115,"column":23},"generated":{"line":1,"column":1267}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":115,"column":27},"generated":{"line":1,"column":1269}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":115,"column":32},"generated":{"line":1,"column":1274}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":115,"column":38},"generated":{"line":1,"column":1280}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":115,"column":47},"generated":{"line":1,"column":1289}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":115,"column":55},"generated":{"line":1,"column":1296}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":115,"column":60},"generated":{"line":1,"column":1300}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":116,"column":12},"generated":{"line":1,"column":1301}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":116,"column":18},"generated":{"line":1,"column":1307}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":116,"column":25},"generated":{"line":1,"column":1309}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":116,"column":30},"generated":{"line":1,"column":1314}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":116,"column":36},"generated":{"line":1,"column":1320}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":116,"column":45},"generated":{"line":1,"column":1329}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":117,"column":12},"generated":{"line":1,"column":1332}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":117,"column":15},"generated":{"line":1,"column":1335}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":117,"column":23},"generated":{"line":1,"column":1338}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":117,"column":28},"generated":{"line":1,"column":1340}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":117,"column":37},"generated":{"line":1,"column":1347}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":117,"column":41},"generated":{"line":1,"column":1349}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":118,"column":16},"generated":{"line":1,"column":1350}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":118,"column":21},"generated":{"line":1,"column":1355}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":118,"column":27},"generated":{"line":1,"column":1361}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":118,"column":39},"generated":{"line":1,"column":1373}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":119,"column":16},"generated":{"line":1,"column":1376}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":126,"column":8},"generated":{"line":1,"column":1383}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":123,"column":15},"generated":{"line":1,"column":1397}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":123,"column":20},"generated":{"line":1,"column":1402}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":123,"column":28},"generated":{"line":1,"column":1410}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":124,"column":8},"generated":{"line":1,"column":1413}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":124,"column":13},"generated":{"line":1,"column":1418}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":124,"column":19},"generated":{"line":1,"column":1424}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":125,"column":11},"generated":{"line":1,"column":1440}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":125,"column":16},"generated":{"line":1,"column":1445}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":125,"column":25},"generated":{"line":1,"column":1454}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":125,"column":30},"generated":{"line":1,"column":1459}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":126,"column":15},"generated":{"line":1,"column":1470}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":1473}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":1481}},{"source":"../../src/implementation/LightScene.ts","name":null,"original":{"line":15,"column":0},"generated":{"line":1,"column":1492}}],"sources":{"../../src/implementation/LightScene.ts":"import { IRenderingEngine } from '@shapediver/viewer.rendering-engine.rendering-engine';\r\nimport { ITreeNode, TreeNode } from '@shapediver/viewer.shared.node-tree'\r\nimport { vec3 } from 'gl-matrix';\r\nimport { Color } from '@shapediver/viewer.shared.types';\r\n\r\nimport { ILight } from '../interface/ILight'\r\nimport { ILightScene } from '../interface/ILightScene'\r\nimport { AbstractLight } from './AbstractLight'\r\nimport { AmbientLight } from './types/AmbientLight';\r\nimport { DirectionalLight } from './types/DirectionalLight';\r\nimport { HemisphereLight } from './types/HemisphereLight';\r\nimport { PointLight } from './types/PointLight';\r\nimport { SpotLight } from './types/SpotLight';\r\n\r\nexport class LightScene implements ILightScene {\r\n    // #region Properties (5)\r\n\r\n    private readonly _id: string;\r\n    private readonly _lights: { [key: string]: ILight; } = {};\r\n    private readonly _node: ITreeNode;\r\n\r\n    private _name: string | undefined;\r\n    private _update?: () => void;\r\n\r\n    // #endregion Properties (5)\r\n\r\n    // #region Constructors (1)\r\n\r\n    constructor(private readonly _renderingEngine: IRenderingEngine, properties: {id: string, name?: string}) {\r\n        this._id = properties.id;\r\n        this._name = properties.name;\r\n        this._node = new TreeNode(properties.name || properties.id);\r\n    }\r\n\r\n    // #endregion Constructors (1)\r\n\r\n    // #region Public Accessors (5)\r\n\r\n    public get id(): string {\r\n        return this._id;\r\n    }\r\n\r\n    public get lights(): { [key: string]: AbstractLight; } {\r\n        return <{ [key: string]: AbstractLight; }>this._lights\r\n    }\r\n\r\n    public get name(): string | undefined {\r\n        return this._name;\r\n    }\r\n\r\n    public set name(value: string | undefined) {\r\n        this._name = value;\r\n    }\r\n\r\n    public get node(): ITreeNode {\r\n        return this._node;\r\n    }\r\n    \r\n    public get update(): (() => void) | undefined {\r\n        return this._update;\r\n    }\r\n\r\n    public set update(value: (() => void) | undefined) {\r\n        this._update = value;\r\n    }\r\n\r\n    // #endregion Public Accessors (5)\r\n\r\n    // #region Public Methods (8)\r\n\r\n    public addAmbientLight(properties: {color?: Color, intensity?: number, name?: string}): AmbientLight {\r\n        const light = new AmbientLight(properties);\r\n        this.addLight(light);\r\n        return light;\r\n    }\r\n\r\n    public addDirectionalLight(properties: {color?: Color, intensity?: number, direction?: vec3, castShadow?: boolean, shadowMapResolution?: number, shadowMapBias?: number, name?: string}): DirectionalLight {\r\n        const light = new DirectionalLight(properties);\r\n        this.addLight(light);\r\n        return light;\r\n    }\r\n\r\n    public addHemisphereLight(properties: {color?: Color, intensity?: number, groundColor?: Color, name?: string}): HemisphereLight {\r\n        const light = new HemisphereLight(properties);\r\n        this.addLight(light);\r\n        return light;\r\n    }\r\n\r\n    public addLight(light: AbstractLight): void {\r\n        const node = new TreeNode(light.id);\r\n        light.parentNode = node;\r\n        node.data.push(light);\r\n        this._node.addChild(node)\r\n        this._lights[light.id] = light;\r\n        \r\n        this._node.updateVersion();\r\n        if(this._update) this._update();\r\n    }\r\n\r\n    public addPointLight(properties: {color?: Color, intensity?: number, position?: vec3, distance?: number, decay?: number, name?: string}): PointLight {\r\n        const light = new PointLight(properties);\r\n        this.addLight(light);\r\n        return light;\r\n    }\r\n\r\n    public addSpotLight(properties: {color?: Color, intensity?: number, position?: vec3, target?: vec3, distance?: number, decay?: number, angle?: number, penumbra?: number, name?: string}): SpotLight {\r\n        const light = new SpotLight(properties);\r\n        this.addLight(light);\r\n        return light;\r\n    }\r\n\r\n    public removeLight(id: string): boolean {\r\n        if (!this._lights[id]) return false;\r\n\r\n        for(let i = 0; i < this._node.children.length; i++) {\r\n            const node = this._node.children[i];\r\n            if(node && node.name === id) {\r\n                this._node.removeChild(node);\r\n                break;\r\n            }\r\n        }\r\n\r\n        delete this._lights[id];\r\n        this._node.updateVersion();\r\n        if(this._update) this._update();\r\n        return true;\r\n    }\r\n\r\n    // #endregion Public Methods (8)\r\n}"},"lineCount":null}},"error":null,"hash":"5e57531b0411a973ce382c7e0dcc0b49","cacheData":{"env":{}}}