{"id":"WE4m","dependencies":[{"name":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.shared.math\\dist\\implementation\\Spherical.js.map","includedInParent":true,"mtime":1706476151186},{"name":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.shared.math\\src\\implementation\\Spherical.ts","includedInParent":true,"mtime":1706476151588},{"name":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\package.json","includedInParent":true,"mtime":1706476652643},{"name":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.shared.math\\package.json","includedInParent":true,"mtime":1706476150552},{"name":"gl-matrix","loc":{"line":4,"column":28,"index":136},"parent":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.shared.math\\dist\\implementation\\Spherical.js","resolved":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\gl-matrix\\esm\\index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Spherical=void 0;const t=require(\"gl-matrix\");class h{constructor(t=1,h=0,i=0){this._radius=t,this._phi=h,this._theta=i}get radius(){return this._radius}set radius(t){this._radius=t}get phi(){return this._phi}set phi(t){this._phi=t}get theta(){return this._theta}set theta(t){this._theta=t}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}fromVec3(t){return this.radius=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(t[0],t[2]),this.phi=Math.acos(Math.max(-1,Math.min(1,t[1]/this.radius)))),this}toVec3(){const h=Math.sin(this.phi)*this.radius;return t.vec3.fromValues(h*Math.sin(this.theta),Math.cos(this.phi)*this.radius,h*Math.cos(this.theta))}}exports.Spherical=h;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":93}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":99}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":101}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":109}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":122}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":4,"column":13},"generated":{"line":1,"column":128}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":5,"column":4},"generated":{"line":1,"column":130}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":6,"column":16},"generated":{"line":1,"column":142}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":6,"column":34},"generated":{"line":1,"column":144}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":7,"column":16},"generated":{"line":1,"column":146}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":7,"column":31},"generated":{"line":1,"column":148}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":8,"column":16},"generated":{"line":1,"column":150}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":8,"column":33},"generated":{"line":1,"column":152}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":6,"column":16},"generated":{"line":1,"column":155}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":6,"column":16},"generated":{"line":1,"column":160}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":6,"column":16},"generated":{"line":1,"column":168}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":7,"column":16},"generated":{"line":1,"column":170}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":7,"column":16},"generated":{"line":1,"column":175}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":7,"column":16},"generated":{"line":1,"column":180}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":8,"column":16},"generated":{"line":1,"column":182}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":8,"column":16},"generated":{"line":1,"column":187}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":8,"column":16},"generated":{"line":1,"column":194}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":12,"column":4},"generated":{"line":1,"column":196}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":13,"column":8},"generated":{"line":1,"column":209}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":13,"column":15},"generated":{"line":1,"column":216}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":13,"column":20},"generated":{"line":1,"column":221}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":1,"column":229}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":16,"column":22},"generated":{"line":1,"column":240}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":17,"column":8},"generated":{"line":1,"column":243}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":17,"column":13},"generated":{"line":1,"column":248}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":17,"column":23},"generated":{"line":1,"column":256}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":21,"column":4},"generated":{"line":1,"column":258}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":22,"column":8},"generated":{"line":1,"column":268}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":22,"column":15},"generated":{"line":1,"column":275}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":22,"column":20},"generated":{"line":1,"column":280}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":25,"column":4},"generated":{"line":1,"column":285}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":25,"column":19},"generated":{"line":1,"column":293}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":26,"column":8},"generated":{"line":1,"column":296}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":26,"column":13},"generated":{"line":1,"column":301}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":26,"column":20},"generated":{"line":1,"column":306}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":30,"column":4},"generated":{"line":1,"column":308}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":31,"column":8},"generated":{"line":1,"column":320}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":31,"column":15},"generated":{"line":1,"column":327}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":31,"column":20},"generated":{"line":1,"column":332}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":34,"column":4},"generated":{"line":1,"column":339}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":34,"column":21},"generated":{"line":1,"column":349}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":35,"column":8},"generated":{"line":1,"column":352}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":35,"column":13},"generated":{"line":1,"column":357}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":35,"column":22},"generated":{"line":1,"column":364}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":38,"column":11},"generated":{"line":1,"column":366}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":41,"column":8},"generated":{"line":1,"column":377}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":40,"column":8},"generated":{"line":1,"column":384}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":40,"column":13},"generated":{"line":1,"column":389}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":40,"column":19},"generated":{"line":1,"column":393}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":40,"column":24},"generated":{"line":1,"column":398}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":39,"column":20},"generated":{"line":1,"column":402}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":40,"column":34},"generated":{"line":1,"column":407}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":40,"column":39},"generated":{"line":1,"column":412}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":40,"column":44},"generated":{"line":1,"column":416}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":40,"column":49},"generated":{"line":1,"column":421}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":39,"column":20},"generated":{"line":1,"column":424}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":40,"column":59},"generated":{"line":1,"column":429}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":40,"column":64},"generated":{"line":1,"column":434}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":41,"column":15},"generated":{"line":1,"column":440}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":44,"column":11},"generated":{"line":1,"column":445}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":44,"column":20},"generated":{"line":1,"column":454}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":54,"column":8},"generated":{"line":1,"column":457}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":45,"column":8},"generated":{"line":1,"column":464}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":469}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":45,"column":22},"generated":{"line":1,"column":476}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":45,"column":27},"generated":{"line":1,"column":481}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":45,"column":32},"generated":{"line":1,"column":486}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":45,"column":34},"generated":{"line":1,"column":488}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":45,"column":39},"generated":{"line":1,"column":491}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":45,"column":41},"generated":{"line":1,"column":493}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":45,"column":46},"generated":{"line":1,"column":496}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":45,"column":48},"generated":{"line":1,"column":498}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":45,"column":53},"generated":{"line":1,"column":501}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":45,"column":55},"generated":{"line":1,"column":503}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":45,"column":60},"generated":{"line":1,"column":506}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":45,"column":62},"generated":{"line":1,"column":508}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":45,"column":67},"generated":{"line":1,"column":511}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":45,"column":69},"generated":{"line":1,"column":513}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":47,"column":28},"generated":{"line":1,"column":517}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":47,"column":12},"generated":{"line":1,"column":521}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":47,"column":17},"generated":{"line":1,"column":526}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":48,"column":12},"generated":{"line":1,"column":534}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":48,"column":17},"generated":{"line":1,"column":539}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":48,"column":25},"generated":{"line":1,"column":545}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":49,"column":12},"generated":{"line":1,"column":547}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":49,"column":17},"generated":{"line":1,"column":552}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":49,"column":23},"generated":{"line":1,"column":556}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":51,"column":12},"generated":{"line":1,"column":560}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":51,"column":17},"generated":{"line":1,"column":565}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":51,"column":25},"generated":{"line":1,"column":571}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":51,"column":30},"generated":{"line":1,"column":576}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":51,"column":36},"generated":{"line":1,"column":582}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":51,"column":38},"generated":{"line":1,"column":584}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":51,"column":42},"generated":{"line":1,"column":587}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":51,"column":44},"generated":{"line":1,"column":589}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":52,"column":12},"generated":{"line":1,"column":593}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":52,"column":17},"generated":{"line":1,"column":598}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":52,"column":23},"generated":{"line":1,"column":602}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":52,"column":28},"generated":{"line":1,"column":607}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":52,"column":33},"generated":{"line":1,"column":612}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":52,"column":38},"generated":{"line":1,"column":617}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":52,"column":43},"generated":{"line":1,"column":622}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":52,"column":46},"generated":{"line":1,"column":624}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":52,"column":51},"generated":{"line":1,"column":629}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":52,"column":55},"generated":{"line":1,"column":633}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":52,"column":58},"generated":{"line":1,"column":635}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":52,"column":60},"generated":{"line":1,"column":637}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":52,"column":65},"generated":{"line":1,"column":640}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":52,"column":70},"generated":{"line":1,"column":645}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":54,"column":15},"generated":{"line":1,"column":656}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":57,"column":11},"generated":{"line":1,"column":661}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":58,"column":8},"generated":{"line":1,"column":670}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":58,"column":14},"generated":{"line":1,"column":676}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":58,"column":29},"generated":{"line":1,"column":678}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":58,"column":34},"generated":{"line":1,"column":683}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":58,"column":39},"generated":{"line":1,"column":687}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":58,"column":44},"generated":{"line":1,"column":692}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":58,"column":52},"generated":{"line":1,"column":697}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":58,"column":57},"generated":{"line":1,"column":702}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":59,"column":8},"generated":{"line":1,"column":709}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":59,"column":15},"generated":{"line":1,"column":716}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":59,"column":15},"generated":{"line":1,"column":718}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":59,"column":20},"generated":{"line":1,"column":723}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":59,"column":31},"generated":{"line":1,"column":734}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":59,"column":46},"generated":{"line":1,"column":736}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":59,"column":51},"generated":{"line":1,"column":741}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":59,"column":56},"generated":{"line":1,"column":745}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":59,"column":61},"generated":{"line":1,"column":750}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":59,"column":70},"generated":{"line":1,"column":757}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":59,"column":75},"generated":{"line":1,"column":762}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":59,"column":80},"generated":{"line":1,"column":766}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":59,"column":85},"generated":{"line":1,"column":771}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":59,"column":93},"generated":{"line":1,"column":776}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":59,"column":98},"generated":{"line":1,"column":781}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":59,"column":106},"generated":{"line":1,"column":788}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":59,"column":121},"generated":{"line":1,"column":790}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":59,"column":126},"generated":{"line":1,"column":795}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":59,"column":131},"generated":{"line":1,"column":799}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":59,"column":136},"generated":{"line":1,"column":804}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":813}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":821}},{"source":"../../src/implementation/Spherical.ts","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":831}}],"sources":{"../../src/implementation/Spherical.ts":"import { vec3 } from 'gl-matrix'\r\nimport { ISpherical } from '../interfaces/ISpherical';\r\n\r\nexport class Spherical implements ISpherical {\r\n    constructor(\r\n        private _radius: number = 1,\r\n        private _phi: number = 0,\r\n        private _theta: number = 0,\r\n    ) { }\r\n\r\n\r\n    public get radius(): number {\r\n        return this._radius;\r\n    }\r\n\r\n    public set radius(value: number) {\r\n        this._radius = value;\r\n    }\r\n\r\n\r\n    public get phi(): number {\r\n        return this._phi;\r\n    }\r\n\r\n    public set phi(value: number) {\r\n        this._phi = value;\r\n    }\r\n\r\n\r\n    public get theta(): number {\r\n        return this._theta;\r\n    }\r\n\r\n    public set theta(value: number) {\r\n        this._theta = value;\r\n    }\r\n\r\n    public makeSafe() {\r\n        const EPS = 0.000001;\r\n        this.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ));\r\n        return this;\r\n    }\r\n\r\n    public fromVec3(p: vec3): ISpherical {\r\n        this.radius = Math.sqrt(p[0] * p[0] + p[1] * p[1] + p[2] * p[2]);\r\n\r\n        if (this.radius === 0) {\r\n            this.theta = 0;\r\n            this.phi = 0;\r\n        } else {\r\n            this.theta = Math.atan2(p[0], p[2]);\r\n            this.phi = Math.acos(Math.max(-1, Math.min(1, p[1] / this.radius)));\r\n        }\r\n        return this;\r\n    }\r\n\r\n    public toVec3(): vec3 {\r\n        const sinPhiRadius = Math.sin( this.phi ) * this.radius;\r\n        return vec3.fromValues(sinPhiRadius * Math.sin( this.theta ), Math.cos( this.phi ) * this.radius, sinPhiRadius * Math.cos( this.theta ));\r\n    }\r\n}"},"lineCount":null}},"error":null,"hash":"3e8ce38f0d9eac0cb97defe3e1d20747","cacheData":{"env":{}}}