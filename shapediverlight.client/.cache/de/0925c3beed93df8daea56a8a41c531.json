{"id":"yMrT","dependencies":[{"name":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.data-engine.geometry-engine\\dist\\gltfv2\\loaders\\BufferViewLoader.js.map","includedInParent":true,"mtime":1706476151971},{"name":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.data-engine.geometry-engine\\src\\gltfv2\\loaders\\BufferViewLoader.ts","includedInParent":true,"mtime":1706476152578},{"name":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\package.json","includedInParent":true,"mtime":1706476652643},{"name":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.data-engine.geometry-engine\\package.json","includedInParent":true,"mtime":1706476151913}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.BufferViewLoader=void 0;class e{constructor(e,r){this._content=e,this._bufferLoader=r,this._loaded={}}getBufferView(e){if(!this._content.bufferViews)throw new Error(\"BufferViewLoader.load: BufferViews not available.\");if(!this._content.bufferViews[e])throw new Error(\"BufferViewLoader.load: BufferView not available.\");if(!this._loaded[e])throw new Error(\"BufferViewLoader.load: BufferView not loaded.\");return this._loaded[e]}load(){if(this._content.bufferViews)for(let e=0;e<this._content.bufferViews.length;e++){const r=e;if(!this._content.bufferViews[r])throw new Error(\"BufferViewLoader.load: BufferView not available.\");const f=this._content.bufferViews[r],t=f.byteLength||0,o=f.byteOffset||0;if(void 0===f.buffer)throw new Error(\"BufferViewLoader.load: BufferView has no buffer defined.\");const i=this._bufferLoader.getBuffer(f.buffer).slice(o,o+t);this._loaded[r]=i}}}exports.BufferViewLoader=e;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":100}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":5,"column":13},"generated":{"line":1,"column":106}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":16,"column":4},"generated":{"line":1,"column":108}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":16,"column":33},"generated":{"line":1,"column":120}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":16,"column":70},"generated":{"line":1,"column":122}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":16,"column":33},"generated":{"line":1,"column":125}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":16,"column":33},"generated":{"line":1,"column":130}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":16,"column":33},"generated":{"line":1,"column":139}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":16,"column":70},"generated":{"line":1,"column":141}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":16,"column":70},"generated":{"line":1,"column":146}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":16,"column":70},"generated":{"line":1,"column":160}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":8,"column":12},"generated":{"line":1,"column":162}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":8,"column":12},"generated":{"line":1,"column":167}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":10,"column":8},"generated":{"line":1,"column":175}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":22,"column":11},"generated":{"line":1,"column":178}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":22,"column":25},"generated":{"line":1,"column":192}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":23,"column":8},"generated":{"line":1,"column":195}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":23,"column":13},"generated":{"line":1,"column":199}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":23,"column":18},"generated":{"line":1,"column":204}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":23,"column":27},"generated":{"line":1,"column":213}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":23,"column":40},"generated":{"line":1,"column":225}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":23,"column":46},"generated":{"line":1,"column":231}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":23,"column":50},"generated":{"line":1,"column":235}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":23,"column":56},"generated":{"line":1,"column":241}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":24,"column":8},"generated":{"line":1,"column":294}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":24,"column":13},"generated":{"line":1,"column":298}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":24,"column":18},"generated":{"line":1,"column":303}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":24,"column":27},"generated":{"line":1,"column":312}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":24,"column":39},"generated":{"line":1,"column":324}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":24,"column":54},"generated":{"line":1,"column":327}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":24,"column":60},"generated":{"line":1,"column":333}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":24,"column":64},"generated":{"line":1,"column":337}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":24,"column":70},"generated":{"line":1,"column":343}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":25,"column":8},"generated":{"line":1,"column":395}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":25,"column":13},"generated":{"line":1,"column":399}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":25,"column":18},"generated":{"line":1,"column":404}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":25,"column":26},"generated":{"line":1,"column":412}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":25,"column":41},"generated":{"line":1,"column":415}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":25,"column":47},"generated":{"line":1,"column":421}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":25,"column":51},"generated":{"line":1,"column":425}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":25,"column":57},"generated":{"line":1,"column":431}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":26,"column":8},"generated":{"line":1,"column":480}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":26,"column":15},"generated":{"line":1,"column":487}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":26,"column":20},"generated":{"line":1,"column":492}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":26,"column":28},"generated":{"line":1,"column":500}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":29,"column":11},"generated":{"line":1,"column":503}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":1,"column":510}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":30,"column":13},"generated":{"line":1,"column":513}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":30,"column":18},"generated":{"line":1,"column":518}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":30,"column":27},"generated":{"line":1,"column":527}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":31,"column":8},"generated":{"line":1,"column":539}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":31,"column":13},"generated":{"line":1,"column":543}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":31,"column":17},"generated":{"line":1,"column":547}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":31,"column":21},"generated":{"line":1,"column":549}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":31,"column":24},"generated":{"line":1,"column":551}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":31,"column":28},"generated":{"line":1,"column":553}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":31,"column":33},"generated":{"line":1,"column":558}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":31,"column":42},"generated":{"line":1,"column":567}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":31,"column":54},"generated":{"line":1,"column":579}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":31,"column":62},"generated":{"line":1,"column":586}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":31,"column":67},"generated":{"line":1,"column":590}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":32,"column":12},"generated":{"line":1,"column":591}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":32,"column":18},"generated":{"line":1,"column":597}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":32,"column":33},"generated":{"line":1,"column":599}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":33,"column":12},"generated":{"line":1,"column":601}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":33,"column":17},"generated":{"line":1,"column":605}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":33,"column":22},"generated":{"line":1,"column":610}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":33,"column":31},"generated":{"line":1,"column":619}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":33,"column":43},"generated":{"line":1,"column":631}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":33,"column":58},"generated":{"line":1,"column":634}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":33,"column":64},"generated":{"line":1,"column":640}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":33,"column":68},"generated":{"line":1,"column":644}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":33,"column":74},"generated":{"line":1,"column":650}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":34,"column":12},"generated":{"line":1,"column":702}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":34,"column":18},"generated":{"line":1,"column":708}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":34,"column":31},"generated":{"line":1,"column":710}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":34,"column":36},"generated":{"line":1,"column":715}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":34,"column":45},"generated":{"line":1,"column":724}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":34,"column":57},"generated":{"line":1,"column":736}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":36,"column":18},"generated":{"line":1,"column":739}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":36,"column":31},"generated":{"line":1,"column":741}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":36,"column":42},"generated":{"line":1,"column":743}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":36,"column":56},"generated":{"line":1,"column":755}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":37,"column":18},"generated":{"line":1,"column":757}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":37,"column":31},"generated":{"line":1,"column":759}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":37,"column":42},"generated":{"line":1,"column":761}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":37,"column":56},"generated":{"line":1,"column":773}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":39,"column":12},"generated":{"line":1,"column":775}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":39,"column":38},"generated":{"line":1,"column":783}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":39,"column":16},"generated":{"line":1,"column":787}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":39,"column":27},"generated":{"line":1,"column":789}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":39,"column":49},"generated":{"line":1,"column":796}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":39,"column":55},"generated":{"line":1,"column":802}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":39,"column":59},"generated":{"line":1,"column":806}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":39,"column":65},"generated":{"line":1,"column":812}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":40,"column":12},"generated":{"line":1,"column":872}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":41,"column":18},"generated":{"line":1,"column":878}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":40,"column":27},"generated":{"line":1,"column":880}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":40,"column":32},"generated":{"line":1,"column":885}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":40,"column":46},"generated":{"line":1,"column":899}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":40,"column":56},"generated":{"line":1,"column":909}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":40,"column":67},"generated":{"line":1,"column":911}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":41,"column":34},"generated":{"line":1,"column":919}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":41,"column":40},"generated":{"line":1,"column":925}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":41,"column":52},"generated":{"line":1,"column":927}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":41,"column":65},"generated":{"line":1,"column":929}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":43,"column":12},"generated":{"line":1,"column":932}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":43,"column":17},"generated":{"line":1,"column":937}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":43,"column":25},"generated":{"line":1,"column":945}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":43,"column":41},"generated":{"line":1,"column":948}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":952}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":960}},{"source":"../../../src/gltfv2/loaders/BufferViewLoader.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":977}}],"sources":{"../../../src/gltfv2/loaders/BufferViewLoader.ts":"import { IGLTF_v2 } from '@shapediver/viewer.data-engine.shared-types'\r\n\r\nimport { BufferLoader } from './BufferLoader'\r\n\r\nexport class BufferViewLoader {\r\n    // #region Properties (1)\r\n\r\n    private _loaded: {\r\n        [key: string]: ArrayBuffer\r\n    } = {};\r\n\r\n    // #endregion Properties (1)\r\n\r\n    // #region Constructors (1)\r\n\r\n    constructor(private readonly _content: IGLTF_v2, private readonly _bufferLoader: BufferLoader) { }\r\n\r\n    // #endregion Constructors (1)\r\n\r\n    // #region Public Methods (2)\r\n\r\n    public getBufferView(bufferViewId: number): ArrayBuffer {\r\n        if (!this._content.bufferViews) throw new Error('BufferViewLoader.load: BufferViews not available.')\r\n        if (!this._content.bufferViews[bufferViewId]) throw new Error('BufferViewLoader.load: BufferView not available.')\r\n        if (!this._loaded[bufferViewId]) throw new Error('BufferViewLoader.load: BufferView not loaded.')\r\n        return this._loaded[bufferViewId];\r\n    }\r\n\r\n    public load(): void {\r\n        if (!this._content.bufferViews) return;\r\n        for (let i = 0; i < this._content.bufferViews.length; i++) {\r\n            const bufferViewId = i;\r\n            if (!this._content.bufferViews[bufferViewId]) throw new Error('BufferViewLoader.load: BufferView not available.')\r\n            const bufferView = this._content.bufferViews[bufferViewId];\r\n\r\n            const byteLength = bufferView.byteLength || 0;\r\n            const byteOffset = bufferView.byteOffset || 0;\r\n\r\n            if (bufferView.buffer === undefined) throw new Error('BufferViewLoader.load: BufferView has no buffer defined.')\r\n            const buffer = this._bufferLoader.getBuffer(bufferView.buffer!);\r\n            const result = buffer.slice(byteOffset, byteOffset + byteLength);\r\n\r\n            this._loaded[bufferViewId] = result;\r\n        }\r\n    }\r\n\r\n    // #endregion Public Methods (2)\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"1207bbabb76b9c1937ee593b5eb217ba","cacheData":{"env":{}}}