{"id":"jc0J","dependencies":[{"name":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.shared.math\\dist\\implementation\\Triangle.js.map","includedInParent":true,"mtime":1706476151226},{"name":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.shared.math\\src\\implementation\\Triangle.ts","includedInParent":true,"mtime":1706476151614},{"name":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\package.json","includedInParent":true,"mtime":1706476652643},{"name":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.shared.math\\package.json","includedInParent":true,"mtime":1706476150552},{"name":"gl-matrix","loc":{"line":4,"column":28,"index":135},"parent":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\viewer.shared.math\\dist\\implementation\\Triangle.js","resolved":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\gl-matrix\\esm\\index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Triangle=void 0;const e=require(\"gl-matrix\");class t{constructor(t=e.vec3.create(),c=e.vec3.create(),v=e.vec3.create()){this._v0=t,this._v1=c,this._v2=v}applyMatrix(t){return e.vec3.transformMat4(this._v0,this._v0,t),e.vec3.transformMat4(this._v1,this._v1,t),e.vec3.transformMat4(this._v2,this._v2,t),this}clone(){return new t(e.vec3.clone(this._v0),e.vec3.clone(this._v1),e.vec3.clone(this._v2))}intersect(t,c){const v=e.vec3.sub(e.vec3.create(),this._v1,this._v0),r=e.vec3.sub(e.vec3.create(),this._v2,this._v0),s=e.vec3.cross(e.vec3.create(),c,r),i=e.vec3.dot(v,s);if(i>-1e-7&&i<1e-7)return null;const a=1/i,n=e.vec3.sub(e.vec3.create(),t,this._v0),o=a*e.vec3.dot(n,s);if(o<0||o>1)return null;const l=e.vec3.cross(e.vec3.create(),n,v),_=a*e.vec3.dot(c,l);if(_<0||o+_>1)return null;const h=a*e.vec3.dot(r,l);return h>1e-7?e.vec3.add(e.vec3.create(),e.vec3.multiply(e.vec3.create(),c,e.vec3.fromValues(h,h,h)),t):null}reset(){this._v0=e.vec3.create(),this._v1=e.vec3.create(),this._v2=e.vec3.create()}}exports.Triangle=t;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":98}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":1,"column":108}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":121}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":5,"column":13},"generated":{"line":1,"column":127}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":6,"column":4},"generated":{"line":1,"column":129}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":7,"column":16},"generated":{"line":1,"column":141}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":7,"column":28},"generated":{"line":1,"column":143}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":7,"column":28},"generated":{"line":1,"column":145}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":7,"column":33},"generated":{"line":1,"column":150}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":8,"column":16},"generated":{"line":1,"column":159}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":8,"column":28},"generated":{"line":1,"column":161}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":8,"column":28},"generated":{"line":1,"column":163}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":8,"column":33},"generated":{"line":1,"column":168}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":9,"column":16},"generated":{"line":1,"column":177}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":9,"column":28},"generated":{"line":1,"column":179}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":9,"column":28},"generated":{"line":1,"column":181}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":9,"column":33},"generated":{"line":1,"column":186}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":7,"column":16},"generated":{"line":1,"column":196}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":7,"column":16},"generated":{"line":1,"column":201}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":7,"column":16},"generated":{"line":1,"column":205}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":8,"column":16},"generated":{"line":1,"column":207}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":8,"column":16},"generated":{"line":1,"column":212}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":8,"column":16},"generated":{"line":1,"column":216}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":9,"column":16},"generated":{"line":1,"column":218}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":9,"column":16},"generated":{"line":1,"column":223}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":9,"column":16},"generated":{"line":1,"column":227}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":12,"column":4},"generated":{"line":1,"column":229}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":12,"column":16},"generated":{"line":1,"column":241}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":16,"column":8},"generated":{"line":1,"column":244}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":13,"column":8},"generated":{"line":1,"column":251}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":13,"column":8},"generated":{"line":1,"column":253}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":13,"column":13},"generated":{"line":1,"column":258}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":13,"column":27},"generated":{"line":1,"column":272}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":13,"column":32},"generated":{"line":1,"column":277}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":13,"column":37},"generated":{"line":1,"column":281}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":13,"column":42},"generated":{"line":1,"column":286}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":13,"column":47},"generated":{"line":1,"column":290}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":14,"column":8},"generated":{"line":1,"column":293}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":14,"column":8},"generated":{"line":1,"column":295}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":14,"column":13},"generated":{"line":1,"column":300}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":14,"column":27},"generated":{"line":1,"column":314}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":14,"column":32},"generated":{"line":1,"column":319}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":14,"column":37},"generated":{"line":1,"column":323}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":14,"column":42},"generated":{"line":1,"column":328}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":14,"column":47},"generated":{"line":1,"column":332}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":15,"column":8},"generated":{"line":1,"column":335}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":15,"column":8},"generated":{"line":1,"column":337}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":15,"column":13},"generated":{"line":1,"column":342}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":15,"column":27},"generated":{"line":1,"column":356}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":15,"column":32},"generated":{"line":1,"column":361}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":15,"column":37},"generated":{"line":1,"column":365}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":15,"column":42},"generated":{"line":1,"column":370}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":15,"column":47},"generated":{"line":1,"column":374}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":16,"column":15},"generated":{"line":1,"column":377}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":19,"column":4},"generated":{"line":1,"column":382}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":20,"column":8},"generated":{"line":1,"column":390}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":20,"column":15},"generated":{"line":1,"column":397}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":20,"column":19},"generated":{"line":1,"column":401}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":20,"column":28},"generated":{"line":1,"column":403}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":20,"column":28},"generated":{"line":1,"column":405}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":20,"column":33},"generated":{"line":1,"column":410}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":20,"column":39},"generated":{"line":1,"column":416}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":20,"column":44},"generated":{"line":1,"column":421}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":20,"column":50},"generated":{"line":1,"column":426}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":20,"column":50},"generated":{"line":1,"column":428}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":20,"column":55},"generated":{"line":1,"column":433}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":20,"column":61},"generated":{"line":1,"column":439}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":20,"column":66},"generated":{"line":1,"column":444}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":20,"column":72},"generated":{"line":1,"column":449}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":20,"column":72},"generated":{"line":1,"column":451}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":20,"column":77},"generated":{"line":1,"column":456}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":20,"column":83},"generated":{"line":1,"column":462}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":20,"column":88},"generated":{"line":1,"column":467}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":24,"column":4},"generated":{"line":1,"column":473}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":24,"column":14},"generated":{"line":1,"column":483}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":24,"column":28},"generated":{"line":1,"column":485}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":25,"column":8},"generated":{"line":1,"column":488}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":26,"column":14},"generated":{"line":1,"column":494}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":26,"column":22},"generated":{"line":1,"column":496}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":26,"column":22},"generated":{"line":1,"column":498}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":26,"column":27},"generated":{"line":1,"column":503}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":26,"column":31},"generated":{"line":1,"column":507}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":26,"column":31},"generated":{"line":1,"column":509}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":26,"column":36},"generated":{"line":1,"column":514}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":26,"column":46},"generated":{"line":1,"column":523}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":26,"column":51},"generated":{"line":1,"column":528}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":26,"column":56},"generated":{"line":1,"column":532}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":26,"column":61},"generated":{"line":1,"column":537}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":27,"column":14},"generated":{"line":1,"column":542}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":27,"column":22},"generated":{"line":1,"column":544}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":27,"column":22},"generated":{"line":1,"column":546}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":27,"column":27},"generated":{"line":1,"column":551}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":27,"column":31},"generated":{"line":1,"column":555}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":27,"column":31},"generated":{"line":1,"column":557}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":27,"column":36},"generated":{"line":1,"column":562}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":27,"column":46},"generated":{"line":1,"column":571}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":27,"column":51},"generated":{"line":1,"column":576}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":27,"column":56},"generated":{"line":1,"column":580}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":27,"column":61},"generated":{"line":1,"column":585}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":28,"column":14},"generated":{"line":1,"column":590}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":28,"column":18},"generated":{"line":1,"column":592}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":28,"column":18},"generated":{"line":1,"column":594}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":28,"column":23},"generated":{"line":1,"column":599}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":28,"column":29},"generated":{"line":1,"column":605}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":28,"column":29},"generated":{"line":1,"column":607}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":28,"column":34},"generated":{"line":1,"column":612}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":28,"column":44},"generated":{"line":1,"column":621}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":28,"column":55},"generated":{"line":1,"column":623}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":29,"column":14},"generated":{"line":1,"column":626}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":29,"column":18},"generated":{"line":1,"column":628}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":29,"column":18},"generated":{"line":1,"column":630}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":29,"column":23},"generated":{"line":1,"column":635}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":29,"column":27},"generated":{"line":1,"column":639}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":29,"column":34},"generated":{"line":1,"column":641}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":30,"column":8},"generated":{"line":1,"column":644}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":30,"column":12},"generated":{"line":1,"column":647}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":25,"column":24},"generated":{"line":1,"column":650}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":30,"column":28},"generated":{"line":1,"column":656}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":25,"column":24},"generated":{"line":1,"column":658}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":31,"column":12},"generated":{"line":1,"column":663}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":31,"column":19},"generated":{"line":1,"column":670}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":32,"column":8},"generated":{"line":1,"column":675}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":32,"column":14},"generated":{"line":1,"column":681}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":32,"column":18},"generated":{"line":1,"column":683}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":32,"column":24},"generated":{"line":1,"column":685}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":33,"column":14},"generated":{"line":1,"column":687}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":33,"column":18},"generated":{"line":1,"column":689}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":33,"column":18},"generated":{"line":1,"column":691}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":33,"column":23},"generated":{"line":1,"column":696}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":33,"column":27},"generated":{"line":1,"column":700}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":33,"column":27},"generated":{"line":1,"column":702}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":33,"column":32},"generated":{"line":1,"column":707}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":33,"column":42},"generated":{"line":1,"column":716}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":33,"column":50},"generated":{"line":1,"column":718}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":33,"column":55},"generated":{"line":1,"column":723}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":34,"column":14},"generated":{"line":1,"column":728}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":34,"column":18},"generated":{"line":1,"column":730}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":1,"column":732}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":34,"column":22},"generated":{"line":1,"column":734}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":34,"column":27},"generated":{"line":1,"column":739}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":34,"column":31},"generated":{"line":1,"column":743}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":34,"column":34},"generated":{"line":1,"column":745}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":35,"column":8},"generated":{"line":1,"column":748}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":35,"column":12},"generated":{"line":1,"column":751}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":35,"column":16},"generated":{"line":1,"column":753}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":35,"column":23},"generated":{"line":1,"column":756}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":35,"column":27},"generated":{"line":1,"column":758}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":36,"column":12},"generated":{"line":1,"column":760}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":36,"column":19},"generated":{"line":1,"column":767}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":37,"column":8},"generated":{"line":1,"column":772}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":37,"column":14},"generated":{"line":1,"column":778}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":37,"column":18},"generated":{"line":1,"column":780}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":37,"column":18},"generated":{"line":1,"column":782}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":37,"column":23},"generated":{"line":1,"column":787}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":37,"column":29},"generated":{"line":1,"column":793}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":37,"column":29},"generated":{"line":1,"column":795}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":37,"column":34},"generated":{"line":1,"column":800}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":37,"column":44},"generated":{"line":1,"column":809}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":37,"column":47},"generated":{"line":1,"column":811}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":38,"column":14},"generated":{"line":1,"column":814}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":38,"column":18},"generated":{"line":1,"column":816}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":38,"column":22},"generated":{"line":1,"column":818}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":38,"column":22},"generated":{"line":1,"column":820}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":38,"column":27},"generated":{"line":1,"column":825}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":38,"column":31},"generated":{"line":1,"column":829}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":38,"column":42},"generated":{"line":1,"column":831}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":39,"column":8},"generated":{"line":1,"column":834}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":39,"column":12},"generated":{"line":1,"column":837}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":39,"column":16},"generated":{"line":1,"column":839}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":39,"column":23},"generated":{"line":1,"column":842}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":39,"column":27},"generated":{"line":1,"column":844}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":39,"column":31},"generated":{"line":1,"column":846}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":40,"column":12},"generated":{"line":1,"column":848}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":40,"column":19},"generated":{"line":1,"column":855}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":42,"column":8},"generated":{"line":1,"column":860}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":42,"column":14},"generated":{"line":1,"column":866}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":42,"column":18},"generated":{"line":1,"column":868}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":42,"column":22},"generated":{"line":1,"column":870}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":42,"column":22},"generated":{"line":1,"column":872}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":42,"column":27},"generated":{"line":1,"column":877}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":42,"column":31},"generated":{"line":1,"column":881}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":42,"column":38},"generated":{"line":1,"column":883}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":8},"generated":{"line":1,"column":886}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":15},"generated":{"line":1,"column":893}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":25,"column":24},"generated":{"line":1,"column":895}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":29},"generated":{"line":1,"column":900}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":29},"generated":{"line":1,"column":902}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":34},"generated":{"line":1,"column":907}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":38},"generated":{"line":1,"column":911}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":38},"generated":{"line":1,"column":913}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":43},"generated":{"line":1,"column":918}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":53},"generated":{"line":1,"column":927}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":53},"generated":{"line":1,"column":929}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":58},"generated":{"line":1,"column":934}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":67},"generated":{"line":1,"column":943}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":67},"generated":{"line":1,"column":945}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":72},"generated":{"line":1,"column":950}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":82},"generated":{"line":1,"column":959}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":93},"generated":{"line":1,"column":961}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":93},"generated":{"line":1,"column":963}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":98},"generated":{"line":1,"column":968}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":109},"generated":{"line":1,"column":979}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":112},"generated":{"line":1,"column":981}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":115},"generated":{"line":1,"column":983}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":120},"generated":{"line":1,"column":987}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":43,"column":128},"generated":{"line":1,"column":990}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":46,"column":4},"generated":{"line":1,"column":995}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":47,"column":8},"generated":{"line":1,"column":1003}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":47,"column":13},"generated":{"line":1,"column":1008}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":47,"column":19},"generated":{"line":1,"column":1012}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":47,"column":19},"generated":{"line":1,"column":1014}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":47,"column":24},"generated":{"line":1,"column":1019}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":48,"column":8},"generated":{"line":1,"column":1028}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":48,"column":13},"generated":{"line":1,"column":1033}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":48,"column":19},"generated":{"line":1,"column":1037}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":48,"column":19},"generated":{"line":1,"column":1039}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":48,"column":24},"generated":{"line":1,"column":1044}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":49,"column":8},"generated":{"line":1,"column":1053}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":49,"column":13},"generated":{"line":1,"column":1058}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":49,"column":19},"generated":{"line":1,"column":1062}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":49,"column":19},"generated":{"line":1,"column":1064}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":49,"column":24},"generated":{"line":1,"column":1069}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":1079}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":1087}},{"source":"../../src/implementation/Triangle.ts","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":1096}}],"sources":{"../../src/implementation/Triangle.ts":"import { mat4, vec3 } from 'gl-matrix'\r\nimport { ITriangle } from '../interfaces/ITriangle';\r\n\r\n\r\nexport class Triangle implements ITriangle {\r\n    constructor(\r\n        private _v0: vec3 = vec3.create(),\r\n        private _v1: vec3 = vec3.create(),\r\n        private _v2: vec3 = vec3.create(),\r\n    ) { }\r\n\r\n    applyMatrix(matrix: mat4): ITriangle {\r\n        vec3.transformMat4(this._v0, this._v0, matrix);\r\n        vec3.transformMat4(this._v1, this._v1, matrix);\r\n        vec3.transformMat4(this._v2, this._v2, matrix);\r\n        return this;\r\n    }\r\n\r\n    clone(): ITriangle {\r\n        return new Triangle(vec3.clone(this._v0), vec3.clone(this._v1), vec3.clone(this._v2));\r\n    }\r\n\r\n    // Möller–Trumbore intersection algorithm\r\n    intersect(origin: vec3, direction: vec3): vec3 | null {\r\n        const EPSILON = 0.0000001;\r\n        const edge1 = vec3.sub(vec3.create(), this._v1, this._v0);\r\n        const edge2 = vec3.sub(vec3.create(), this._v2, this._v0);\r\n        const h = vec3.cross(vec3.create(), direction, edge2)\r\n        const a = vec3.dot(edge1, h);\r\n        if (a > -EPSILON && a < EPSILON)\r\n            return null;    // This ray is parallel to this triangle.\r\n        const f = 1.0 / a;\r\n        const s = vec3.sub(vec3.create(), origin, this._v0);\r\n        const u = f * vec3.dot(s, h);\r\n        if (u < 0.0 || u > 1.0)\r\n            return null;\r\n        const q = vec3.cross(vec3.create(), s, edge1);\r\n        const v = f * vec3.dot(direction, q);\r\n        if (v < 0.0 || u + v > 1.0)\r\n            return null;\r\n        // At this stage we can compute t to find out where the intersection point is on the line.\r\n        const t = f * vec3.dot(edge2, q);\r\n        return t > EPSILON ? vec3.add(vec3.create(), vec3.multiply(vec3.create(), direction, vec3.fromValues(t, t, t)), origin):null;\r\n    }\r\n\r\n    reset() {\r\n        this._v0 = vec3.create();\r\n        this._v1 = vec3.create();\r\n        this._v2 = vec3.create();    \r\n    }\r\n}"},"lineCount":null}},"error":null,"hash":"d078b785abbd2c707163a3b6e849cd2b","cacheData":{"env":{}}}