{"id":"node_modules/@shapediver/sdk.sdtf-v1/dist/reader/SdtfReadableComponentFactory.js","dependencies":[{"name":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\sdk.sdtf-v1\\dist\\reader\\SdtfReadableComponentFactory.js.map","includedInParent":true,"mtime":1706542087320},{"name":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\package.json","includedInParent":true,"mtime":1706542184022},{"name":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\sdk.sdtf-v1\\package.json","includedInParent":true,"mtime":1706542086604},{"name":"./components/SdtfReadableAccessor","loc":{"line":4,"column":39,"index":163},"parent":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\sdk.sdtf-v1\\dist\\reader\\SdtfReadableComponentFactory.js","resolved":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\sdk.sdtf-v1\\dist\\reader\\components\\SdtfReadableAccessor.js"},{"name":"./components/SdtfReadableAttributes","loc":{"line":5,"column":41,"index":242},"parent":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\sdk.sdtf-v1\\dist\\reader\\SdtfReadableComponentFactory.js","resolved":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\sdk.sdtf-v1\\dist\\reader\\components\\SdtfReadableAttributes.js"},{"name":"./components/SdtfReadableBuffer","loc":{"line":6,"column":37,"index":319},"parent":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\sdk.sdtf-v1\\dist\\reader\\SdtfReadableComponentFactory.js","resolved":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\sdk.sdtf-v1\\dist\\reader\\components\\SdtfReadableBuffer.js"},{"name":"./components/SdtfReadableBufferView","loc":{"line":7,"column":41,"index":396},"parent":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\sdk.sdtf-v1\\dist\\reader\\SdtfReadableComponentFactory.js","resolved":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\sdk.sdtf-v1\\dist\\reader\\components\\SdtfReadableBufferView.js"},{"name":"./components/SdtfReadableDataItem","loc":{"line":8,"column":39,"index":475},"parent":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\sdk.sdtf-v1\\dist\\reader\\SdtfReadableComponentFactory.js","resolved":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\sdk.sdtf-v1\\dist\\reader\\components\\SdtfReadableDataItem.js"},{"name":"./components/SdtfReadableFileInfo","loc":{"line":9,"column":39,"index":552},"parent":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\sdk.sdtf-v1\\dist\\reader\\SdtfReadableComponentFactory.js","resolved":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\sdk.sdtf-v1\\dist\\reader\\components\\SdtfReadableFileInfo.js"},{"name":"./components/SdtfReadableNode","loc":{"line":10,"column":35,"index":625},"parent":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\sdk.sdtf-v1\\dist\\reader\\SdtfReadableComponentFactory.js","resolved":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\sdk.sdtf-v1\\dist\\reader\\components\\SdtfReadableNode.js"},{"name":"./components/SdtfReadableTypeHint","loc":{"line":11,"column":39,"index":698},"parent":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\sdk.sdtf-v1\\dist\\reader\\SdtfReadableComponentFactory.js","resolved":"F:\\UpworkProjects\\ShapeDiverLight\\ShapeDiverLight\\shapediverlight.client\\node_modules\\@shapediver\\sdk.sdtf-v1\\dist\\reader\\components\\SdtfReadableTypeHint.js"}],"generated":{"js":"\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SdtfReadableComponentFactory = void 0;\nconst SdtfReadableAccessor_1 = require(\"./components/SdtfReadableAccessor\");\nconst SdtfReadableAttributes_1 = require(\"./components/SdtfReadableAttributes\");\nconst SdtfReadableBuffer_1 = require(\"./components/SdtfReadableBuffer\");\nconst SdtfReadableBufferView_1 = require(\"./components/SdtfReadableBufferView\");\nconst SdtfReadableDataItem_1 = require(\"./components/SdtfReadableDataItem\");\nconst SdtfReadableFileInfo_1 = require(\"./components/SdtfReadableFileInfo\");\nconst SdtfReadableNode_1 = require(\"./components/SdtfReadableNode\");\nconst SdtfReadableTypeHint_1 = require(\"./components/SdtfReadableTypeHint\");\nclass SdtfReadableComponentFactory {\n    constructor(bufferCache, dataParser) {\n        this.bufferCache = bufferCache;\n        this.dataParser = dataParser;\n    }\n    createAccessor(accessor, bufferViews) {\n        // Instantiate object\n        const readableAccessor = new SdtfReadableAccessor_1.SdtfReadableAccessor(bufferViews[accessor.bufferView]);\n        readableAccessor.bufferView = bufferViews[accessor.bufferView];\n        readableAccessor.id = accessor.id;\n        readableAccessor.additionalProperties = accessor.additionalProperties;\n        return readableAccessor;\n    }\n    createAttributes(attribute, accessors, typeHints) {\n        const readableAttributes = new SdtfReadableAttributes_1.SdtfReadableAttributes();\n        Object.entries(attribute.entries).forEach(([name, attribute]) => {\n            const readableAttribute = new SdtfReadableAttributes_1.SdtfReadableAttribute(this.dataParser);\n            if (attribute.accessor !== undefined)\n                readableAttribute.accessor = accessors[attribute.accessor];\n            if (attribute.typeHint !== undefined)\n                readableAttribute.typeHint = typeHints[attribute.typeHint];\n            readableAttribute.value = attribute.value;\n            readableAttributes.entries[name] = readableAttribute;\n        });\n        return readableAttributes;\n    }\n    createBuffer(buffer) {\n        const readableBuffer = new SdtfReadableBuffer_1.SdtfReadableBuffer(buffer.byteLength, this.bufferCache);\n        readableBuffer.uri = buffer.uri;\n        readableBuffer.additionalProperties = buffer.additionalProperties;\n        return readableBuffer;\n    }\n    createBufferView(bufferView, buffers) {\n        const readableBufferView = new SdtfReadableBufferView_1.SdtfReadableBufferView(buffers[bufferView.buffer], bufferView.byteLength, bufferView.byteOffset, bufferView.contentType);\n        readableBufferView.contentEncoding = bufferView.contentEncoding;\n        readableBufferView.name = bufferView.name;\n        readableBufferView.additionalProperties = bufferView.additionalProperties;\n        return readableBufferView;\n    }\n    createChunk(chunk, attributes, dataItems, typeHints) {\n        return this.createNode(chunk, attributes, dataItems, typeHints);\n    }\n    createDataItem(dataItem, accessors, attributes, typeHints) {\n        const readableDataItem = new SdtfReadableDataItem_1.SdtfReadableDataItem(this.dataParser);\n        if (dataItem.accessor !== undefined)\n            readableDataItem.accessor = accessors[dataItem.accessor];\n        if (dataItem.attributes !== undefined)\n            readableDataItem.attributes = attributes[dataItem.attributes];\n        if (dataItem.typeHint !== undefined)\n            readableDataItem.typeHint = typeHints[dataItem.typeHint];\n        readableDataItem.value = dataItem.value;\n        readableDataItem.additionalProperties = dataItem.additionalProperties;\n        return readableDataItem;\n    }\n    createFileInfo(fileInfo) {\n        const readableFileInfo = new SdtfReadableFileInfo_1.SdtfReadableFileInfo(fileInfo.version);\n        readableFileInfo.copyright = fileInfo.copyright;\n        readableFileInfo.generator = fileInfo.generator;\n        readableFileInfo.version = fileInfo.version;\n        readableFileInfo.additionalProperties = fileInfo.additionalProperties;\n        return readableFileInfo;\n    }\n    createNode(node, attributes, dataItems, typeHints) {\n        const readableNode = new SdtfReadableNode_1.SdtfReadableNode();\n        // NOTE the node property is ignored on purpose and later linked via `setNodeReferences`\n        if (node.attributes !== undefined)\n            readableNode.attributes = attributes[node.attributes];\n        readableNode.items = node.items.map(d => dataItems[d]);\n        readableNode.name = node.name;\n        if (node.typeHint !== undefined)\n            readableNode.typeHint = typeHints[node.typeHint];\n        readableNode.additionalProperties = node.additionalProperties;\n        return readableNode;\n    }\n    createTypeHint(typeHint) {\n        const readableTypeHint = new SdtfReadableTypeHint_1.SdtfReadableTypeHint(typeHint.name);\n        readableTypeHint.additionalProperties = typeHint.additionalProperties;\n        return readableTypeHint;\n    }\n    setChunkReferences(readableChunks, chunks, readableNodes) {\n        chunks.forEach((chunk, index) => {\n            const readableChunk = readableChunks[index];\n            readableChunk.nodes = chunk.nodes.map(nodePos => readableNodes[nodePos]);\n        });\n    }\n    setNodeReferences(readableNodes, nodes) {\n        nodes.forEach((node, index) => {\n            const readableNode = readableNodes[index];\n            readableNode.nodes = node.nodes.map(nodePos => readableNodes[nodePos]);\n        });\n    }\n}\nexports.SdtfReadableComponentFactory = SdtfReadableComponentFactory;\n"},"sourceMaps":{"js":{"version":3,"file":"SdtfReadableComponentFactory.js","sourceRoot":"","sources":["../../src/reader/SdtfReadableComponentFactory.ts"],"names":[],"mappings":"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","sourcesContent":[null]}},"error":null,"hash":"11a0c1d08ffe7bc089e30641c33e4120","cacheData":{"env":{}}}