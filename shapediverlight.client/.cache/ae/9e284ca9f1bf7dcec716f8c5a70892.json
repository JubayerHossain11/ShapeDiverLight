{"id":"node_modules/@shapediver/viewer.shared.services/dist/performance-evaluator/PerformanceEvaluator.js","dependencies":[{"name":"D:\\projects\\myProjects\\shapeApp\\node_modules\\@shapediver\\viewer.shared.services\\dist\\performance-evaluator\\PerformanceEvaluator.js.map","includedInParent":true,"mtime":1706527151138},{"name":"D:\\projects\\myProjects\\shapeApp\\node_modules\\@shapediver\\viewer.shared.services\\src\\performance-evaluator\\PerformanceEvaluator.ts","includedInParent":true,"mtime":1706527152352},{"name":"D:\\projects\\myProjects\\shapeApp\\package.json","includedInParent":true,"mtime":1706533774939},{"name":"D:\\projects\\myProjects\\shapeApp\\node_modules\\@shapediver\\viewer.shared.services\\package.json","includedInParent":true,"mtime":1706527150825}],"generated":{"js":"\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.PerformanceEvaluator = void 0;\r\nclass PerformanceEvaluator {\r\n    // #endregion Properties (2)\r\n    // #region Public Static Accessors (1)\r\n    static get instance() {\r\n        return this._instance || (this._instance = new this());\r\n    }\r\n    // #endregion Public Static Accessors (1)\r\n    // #region Public Methods (6)\r\n    /**\r\n     * End the performance evaluation and calculate the duration.\r\n     *\r\n     * @param id\r\n     */\r\n    end() {\r\n        if (!this._eval)\r\n            return;\r\n        if (this._eval.end)\r\n            return;\r\n        this._eval.end = performance.now();\r\n        this._eval.duration = this._eval.end - this._eval.start;\r\n    }\r\n    /**\r\n     * End the performance evaluation of a section and calculate the duration.\r\n     *\r\n     * @param id\r\n     */\r\n    endSection(sectionId) {\r\n        if (!this._eval)\r\n            return;\r\n        if (this._eval.end)\r\n            return;\r\n        if (!this._eval.section[sectionId])\r\n            return;\r\n        if (this._eval.section[sectionId].end)\r\n            return;\r\n        this._eval.section[sectionId].end = performance.now();\r\n        this._eval.section[sectionId].duration = this._eval.section[sectionId].end - this._eval.section[sectionId].start;\r\n    }\r\n    /**\r\n     * Get the evaluation data for a specific id.\r\n     *\r\n     * @param id\r\n     */\r\n    getEvaluation() {\r\n        return this._eval;\r\n    }\r\n    /**\r\n     * Get the evaluation data for a specific id.\r\n     *\r\n     * @param id\r\n     */\r\n    getEvaluationToString() {\r\n        const e = this._eval;\r\n        return `Performance Evaluation: ${e.duration}ms\\n`;\r\n    }\r\n    /**\r\n     * Start the evaluation with a specific id.\r\n     *\r\n     * @param id\r\n     */\r\n    start(time) {\r\n        this._eval = {\r\n            start: time || performance.now(),\r\n            section: {}\r\n        };\r\n    }\r\n    /**\r\n     * Start the evaluation of a section with a specific id.\r\n     *\r\n     * @param id\r\n     */\r\n    startSection(sectionId, time) {\r\n        if (!this._eval)\r\n            return;\r\n        if (this._eval.end)\r\n            return;\r\n        this._eval.section[sectionId] = {\r\n            start: time || performance.now(),\r\n        };\r\n    }\r\n}\r\nexports.PerformanceEvaluator = PerformanceEvaluator;\r\n"},"sourceMaps":{"js":{"version":3,"file":"PerformanceEvaluator.js","sourceRoot":"","sources":["../../src/performance-evaluator/PerformanceEvaluator.ts"],"names":[],"mappings":";;;AAAA,MAAa,oBAAoB;IAkB7B,4BAA4B;IAE5B,sCAAsC;IAE/B,MAAM,KAAK,QAAQ;QACtB,OAAO,IAAI,CAAC,SAAS,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,IAAI,IAAI,EAAE,CAAC,CAAC;IAC3D,CAAC;IAED,yCAAyC;IAEzC,6BAA6B;IAE7B;;;;OAIG;IACI,GAAG;QACN,IAAI,CAAC,IAAI,CAAC,KAAK;YAAE,OAAO;QACxB,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG;YAAE,OAAO;QAE3B,IAAI,CAAC,KAAK,CAAC,GAAG,GAAG,WAAW,CAAC,GAAG,EAAE,CAAC;QACnC,IAAI,CAAC,KAAK,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,GAAI,GAAG,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC;IAC7D,CAAC;IAED;;;;OAIG;IACI,UAAU,CAAC,SAAiB;QAC/B,IAAI,CAAC,IAAI,CAAC,KAAK;YAAE,OAAO;QACxB,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG;YAAE,OAAO;QAC3B,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC;YAAE,OAAO;QAC3C,IAAI,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,GAAG;YAAE,OAAO;QAE9C,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,GAAG,GAAG,WAAW,CAAC,GAAG,EAAE,CAAC;QAEtD,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,QAAQ,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,GAAI,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC,KAAK,CAAC;IACtH,CAAC;IAED;;;;OAIG;IACI,aAAa;QAYhB,OAAO,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IAED;;;;OAIG;IACI,qBAAqB;QACxB,MAAM,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC;QACrB,OAAO,2BAA2B,CAAE,CAAC,QAAQ,MAAM,CAAC;IACxD,CAAC;IAED;;;;OAIG;IACI,KAAK,CAAC,IAAa;QACtB,IAAI,CAAC,KAAK,GAAG;YACT,KAAK,EAAE,IAAI,IAAI,WAAW,CAAC,GAAG,EAAE;YAChC,OAAO,EAAE,EAAE;SACd,CAAA;IACL,CAAC;IAED;;;;OAIG;IACI,YAAY,CAAC,SAAiB,EAAE,IAAa;QAChD,IAAI,CAAC,IAAI,CAAC,KAAK;YAAE,OAAO;QACxB,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG;YAAE,OAAO;QAC3B,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,SAAS,CAAC,GAAG;YAC5B,KAAK,EAAE,IAAI,IAAI,WAAW,CAAC,GAAG,EAAE;SACnC,CAAA;IACL,CAAC;CAGJ;AAnHD,oDAmHC","sourcesContent":["export class PerformanceEvaluator {\r\n    // #region Properties (2)\r\n\r\n    private static _instance: PerformanceEvaluator;\r\n\r\n    private _eval: {\r\n        start: number;\r\n        section: {\r\n            [key: string]: {\r\n                start: number;\r\n                end?: number;\r\n                duration?: number;\r\n            };\r\n        };\r\n        end?: number;\r\n        duration?: number;\r\n    } | undefined;\r\n\r\n    // #endregion Properties (2)\r\n\r\n    // #region Public Static Accessors (1)\r\n\r\n    public static get instance() {\r\n        return this._instance || (this._instance = new this());\r\n    }\r\n\r\n    // #endregion Public Static Accessors (1)\r\n\r\n    // #region Public Methods (6)\r\n\r\n    /**\r\n     * End the performance evaluation and calculate the duration.\r\n     * \r\n     * @param id \r\n     */\r\n    public end(): void {\r\n        if (!this._eval) return;\r\n        if (this._eval.end) return;\r\n\r\n        this._eval.end = performance.now();\r\n        this._eval.duration = this._eval.end! - this._eval.start;\r\n    }\r\n\r\n    /**\r\n     * End the performance evaluation of a section and calculate the duration.\r\n     * \r\n     * @param id \r\n     */\r\n    public endSection(sectionId: string): void {\r\n        if (!this._eval) return;\r\n        if (this._eval.end) return;\r\n        if (!this._eval.section[sectionId]) return;\r\n        if (this._eval.section[sectionId].end) return;\r\n\r\n        this._eval.section[sectionId].end = performance.now();\r\n\r\n        this._eval.section[sectionId].duration = this._eval.section[sectionId].end! - this._eval.section[sectionId].start;\r\n    }\r\n\r\n    /**\r\n     * Get the evaluation data for a specific id.\r\n     * \r\n     * @param id \r\n     */\r\n    public getEvaluation(): {\r\n        start: number,\r\n        section: {\r\n            [key: string]: {\r\n                start: number,\r\n                end?: number,\r\n                duration?: number\r\n            }\r\n        },\r\n        end?: number,\r\n        duration?: number,\r\n    } | undefined {\r\n        return this._eval;\r\n    }\r\n\r\n    /**\r\n     * Get the evaluation data for a specific id.\r\n     * \r\n     * @param id \r\n     */\r\n    public getEvaluationToString(): string {\r\n        const e = this._eval;\r\n        return `Performance Evaluation: ${e!.duration}ms\\n`;\r\n    }\r\n\r\n    /**\r\n     * Start the evaluation with a specific id.\r\n     * \r\n     * @param id \r\n     */\r\n    public start(time?: number): void {\r\n        this._eval = {\r\n            start: time || performance.now(),\r\n            section: {}\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Start the evaluation of a section with a specific id.\r\n     * \r\n     * @param id \r\n     */\r\n    public startSection(sectionId: string, time?: number): void {\r\n        if (!this._eval) return;\r\n        if (this._eval.end) return;\r\n        this._eval.section[sectionId] = {\r\n            start: time || performance.now(),\r\n        }\r\n    }\r\n\r\n    // #endregion Public Methods (6)\r\n}"]}},"error":null,"hash":"492431a56cf83cedb7e41318972167b7","cacheData":{"env":{}}}