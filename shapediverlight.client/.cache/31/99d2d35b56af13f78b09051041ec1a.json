{"id":"node_modules/@shapediver/sdk.geometry-api-sdk-v2/dist/resources/ShapeDiverModelApi.js","dependencies":[{"name":"D:\\projects\\myProjects\\shapeApp\\node_modules\\@shapediver\\sdk.geometry-api-sdk-v2\\dist\\resources\\ShapeDiverModelApi.js.map","includedInParent":true,"mtime":1706527151088},{"name":"D:\\projects\\myProjects\\shapeApp\\package.json","includedInParent":true,"mtime":1706533774939},{"name":"D:\\projects\\myProjects\\shapeApp\\node_modules\\@shapediver\\sdk.geometry-api-sdk-v2\\package.json","includedInParent":true,"mtime":1706527150879},{"name":"@shapediver/sdk.geometry-api-sdk-core","loc":{"line":13,"column":44,"index":839},"parent":"D:\\projects\\myProjects\\shapeApp\\node_modules\\@shapediver\\sdk.geometry-api-sdk-v2\\dist\\resources\\ShapeDiverModelApi.js","resolved":"D:\\projects\\myProjects\\shapeApp\\node_modules\\@shapediver\\sdk.geometry-api-sdk-core\\dist\\index.js"},{"name":"../utils/utils","loc":{"line":14,"column":24,"index":905},"parent":"D:\\projects\\myProjects\\shapeApp\\node_modules\\@shapediver\\sdk.geometry-api-sdk-v2\\dist\\resources\\ShapeDiverModelApi.js","resolved":"D:\\projects\\myProjects\\shapeApp\\node_modules\\@shapediver\\sdk.geometry-api-sdk-v2\\dist\\utils\\utils.js"}],"generated":{"js":"\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShapeDiverModelApi = void 0;\nconst sdk_geometry_api_sdk_core_1 = require(\"@shapediver/sdk.geometry-api-sdk-core\");\nconst utils_1 = require(\"../utils/utils\");\nclass ShapeDiverModelApi extends sdk_geometry_api_sdk_core_1.BaseResourceApi {\n    constructor(api) {\n        super(api);\n    }\n    /**\n     * Get information about a ShapeDiver Model.\n     *\n     * @param modelId\n     */\n    get(modelId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield (0, utils_1.sendRequest)(() => __awaiter(this, void 0, void 0, function* () { return (yield this.api.get(this.buildModelUri(modelId)))[1]; }));\n        });\n    }\n    /**\n     * Create a new ShapeDiver Model.\n     *\n     * @param body\n     */\n    create(body) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield (0, utils_1.sendRequest)(() => __awaiter(this, void 0, void 0, function* () { return (yield this.api.post(this.commonPath, body))[1]; }));\n        });\n    }\n    /**\n     * Update properties of a ShapeDiver Model.\n     *\n     * @param modelId\n     * @param body\n     */\n    update(modelId, body) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield (0, utils_1.sendRequest)(() => __awaiter(this, void 0, void 0, function* () { return (yield this.api.put(this.buildModelUri(modelId), body))[1]; }));\n        });\n    }\n    /**\n     * Delete a ShapeDiver Model.\n     *\n     * @param modelId\n     */\n    delete(modelId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield (0, utils_1.sendRequest)(() => __awaiter(this, void 0, void 0, function* () { return (yield this.api.delete(this.buildModelUri(modelId)))[1]; }));\n        });\n    }\n    /**\n     * List models.\n     */\n    list() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield (0, utils_1.sendRequest)(() => __awaiter(this, void 0, void 0, function* () { return (yield this.api.get(`${this.commonPath}/list`))[1]; }));\n        });\n    }\n    /**\n     * Get configurations of the viewer.\n     *\n     * @param modelId\n     */\n    getConfig(modelId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield (0, utils_1.sendRequest)(() => __awaiter(this, void 0, void 0, function* () { return (yield this.api.get(this.buildModelUri(modelId) + \"/config\"))[1]; }));\n        });\n    }\n    /**\n     * Create viewer configurations.\n     *\n     * @param modelId\n     * @param body\n     */\n    createConfig(modelId, body) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield (0, utils_1.sendRequest)(() => __awaiter(this, void 0, void 0, function* () { return (yield this.api.post(this.buildModelUri(modelId) + \"/config\", body))[1]; }));\n        });\n    }\n    /**\n     * Update viewer configurations.\n     *\n     * @param modelId\n     * @param body\n     */\n    updateConfig(modelId, body) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield (0, utils_1.sendRequest)(() => __awaiter(this, void 0, void 0, function* () { return (yield this.api.patch(this.buildModelUri(modelId) + \"/config\", body))[1]; }));\n        });\n    }\n    /**\n     * Download the Grasshopper file of the ShapeDiver Model.\n     *\n     * @param modelId\n     */\n    getFile(modelId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield (0, utils_1.sendRequest)(() => __awaiter(this, void 0, void 0, function* () {\n                return (yield this.api.get(this.buildModelUri(modelId) + \"/file/download\", { contentType: \"application/json\", responseType: sdk_geometry_api_sdk_core_1.ShapeDiverSdkApiResponseType.DATA }))[1];\n            }));\n        });\n    }\n    /**\n     * Set the default parameters for the ShapeDiver Model.\n     *\n     * @param modelId\n     * @param body\n     */\n    setDefaultParams(modelId, body) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield (0, utils_1.sendRequest)(() => __awaiter(this, void 0, void 0, function* () { return (yield this.api.patch(this.buildModelUri(modelId) + \"/parameter/defval\", body))[1]; }));\n        });\n    }\n    /**\n     * Updates the definitions of the given parameters.\n     *\n     * @param modelId\n     * @param body\n     */\n    updateParameterDefinitions(modelId, body) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield (0, utils_1.sendRequest)(() => __awaiter(this, void 0, void 0, function* () { return (yield this.api.patch(this.buildModelUri(modelId) + \"/parameter\", body))[1]; }));\n        });\n    }\n    /**\n     * Query model computation statistics.\n     *\n     * @param modelId\n     * @param timestampFrom - Timestamp to query from\n     * @param timestampTo - Timestamp to query to.\n     * @param limit - How many items to return at most.\n     * @param strictLimit - Whether the limit shall be attained (if there are enough items).\n     * @param order - Order in which to query computation stats items.\n     * @param status - Filter computations by the result status.\n     * @param type - Filter computations by type.\n     * @param offset - Continuation token for pagination.\n     */\n    queryComputations(modelId, timestampFrom, timestampTo, limit, strictLimit, order, status, type, offset) {\n        return __awaiter(this, void 0, void 0, function* () {\n            // Build queries\n            const queries = [];\n            if (timestampFrom !== undefined)\n                queries.push(\"timestamp_from=\" + timestampFrom);\n            if (timestampTo !== undefined)\n                queries.push(\"timestamp_to=\" + timestampTo);\n            if (limit !== undefined)\n                queries.push(\"limit=\" + limit);\n            if (strictLimit !== undefined)\n                queries.push(\"strict_limit=\" + strictLimit);\n            if (order !== undefined)\n                queries.push(\"order=\" + order);\n            if (status !== undefined)\n                queries.push(\"status=\" + status);\n            if (type !== undefined)\n                queries.push(\"type=\" + type);\n            if (offset !== undefined)\n                queries.push(\"offset=\" + offset);\n            return yield (0, utils_1.sendRequest)(() => __awaiter(this, void 0, void 0, function* () { return (yield this.api.get(this.buildModelUri(modelId) + \"/computations?\" + queries.join(\"&\")))[1]; }));\n        });\n    }\n    /**\n     * Delete all export components that have been last used at or before {@link untilLastSeen} timestamp.\n     *\n     * @param modelId\n     * @param untilLastSeen - Timestamp, inclusive limit.\n     * Allowed Patterns: YYYY, YYYYMM, YYYYMMDD, YYYYMMDDhh, YYYYMMDDhhmm, YYYYMMDDhhmmss, YYYYMMDDhhmmssSSS\n     * @example\n     * untilLastSeen = \"20221104112923123\"\n     * represents the date-time \"2022-11-04T11:29:23.123\"\n     */\n    enqueueCleanupExports(modelId, untilLastSeen) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield (0, utils_1.sendRequest)(() => __awaiter(this, void 0, void 0, function* () { return (yield this.api.post(this.buildModelUri(modelId) + \"/cleanup/export?untilLastSeen=\" + untilLastSeen))[1]; }));\n        });\n    }\n    /**\n     * Delete all output components that have been last used at or before {@link untilLastSeen} timestamp.\n     *\n     * @param modelId\n     * @param untilLastSeen - Timestamp, inclusive limit.\n     * Allowed Patterns: YYYY, YYYYMM, YYYYMMDD, YYYYMMDDhh, YYYYMMDDhhmm, YYYYMMDDhhmmss, YYYYMMDDhhmmssSSS\n     * @example\n     * untilLastSeen = \"20221104112923123\"\n     * represents the date-time \"2022-11-04T11:29:23.123\"\n     */\n    enqueueCleanupOutputs(modelId, untilLastSeen) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield (0, utils_1.sendRequest)(() => __awaiter(this, void 0, void 0, function* () { return (yield this.api.post(this.buildModelUri(modelId) + \"/cleanup/output?untilLastSeen=\" + untilLastSeen))[1]; }));\n        });\n    }\n    /**\n     * Delete all texture components that have been last used at or before {@link untilLastSeen} timestamp.\n     *\n     * @param modelId\n     * @param untilLastSeen - Timestamp, inclusive limit.\n     * Allowed Patterns: YYYY, YYYYMM, YYYYMMDD, YYYYMMDDhh, YYYYMMDDhhmm, YYYYMMDDhhmmss, YYYYMMDDhhmmssSSS\n     * @example\n     * untilLastSeen = \"20221104112923123\"\n     * represents the date-time \"2022-11-04T11:29:23.123\"\n     */\n    enqueueCleanupTextures(modelId, untilLastSeen) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield (0, utils_1.sendRequest)(() => __awaiter(this, void 0, void 0, function* () { return (yield this.api.post(this.buildModelUri(modelId) + \"/cleanup/texture?untilLastSeen=\" + untilLastSeen))[1]; }));\n        });\n    }\n    /**\n     * Get the status of all running model cleanup processes.\n     *\n     * @param modelId\n     */\n    getCleanupStatus(modelId) {\n        return __awaiter(this, void 0, void 0, function* () {\n            return yield (0, utils_1.sendRequest)(() => __awaiter(this, void 0, void 0, function* () { return (yield this.api.get(this.buildModelUri(modelId) + \"/cleanup/status\"))[1]; }));\n        });\n    }\n}\nexports.ShapeDiverModelApi = ShapeDiverModelApi;\n"},"sourceMaps":{"js":{"version":3,"file":"ShapeDiverModelApi.js","sourceRoot":"","sources":["../../src/resources/ShapeDiverModelApi.ts"],"names":[],"mappings":"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","sourcesContent":[null]}},"error":null,"hash":"e78f55760df03740955e14e9131d2eb2","cacheData":{"env":{}}}